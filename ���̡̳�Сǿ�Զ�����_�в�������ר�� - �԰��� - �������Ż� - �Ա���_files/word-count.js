(function(){var a=KISSY;a.namespace("wordcount");KISSY.wordcount.bind=function(d,c,h){var g=0;a.DOM.insertAfter(a.DOM.create('<div class="J_WS">\u6e90\u7801:\u5df2\u8f93\u5165 <em class="J_WordSize">'+g+'</em>/\u6700\u591a\u8f93\u5165 <em class="J_WsMax">'+c+'</em> <span class="J_WsTips"></span></div>'),a.one(d).parent(".ke-editor-wrap"));var f=a.one(d).parent(".ke-editor-wrap").next(".J_WS").children(".J_WordSize");var b="\u8bf7\u51cf\u5c11\u6e90\u7801\u6570\u91cf\uff0c\u5426\u5219\u65e0\u6cd5\u53d1\u5e03\u6210\u529f";a.DOM.css(".J_WordSize",{"font-weight":"bold",color:"green"});a.DOM.css(".J_WsMax","font-weight","bold");a.DOM.css(".J_WS",{"font-size":"13px","padding-left":"5px"});a.DOM.css(".J_WsTips","color","red");var e=function(k,j){if(j<=c){k.text(j).css("color","green");k.siblings(".J_WsTips").text("")}else{k.text(j).css("color","red");k.siblings(".J_WsTips").text(b)}},i;h.ready(function(){e(f,h.getData().length);h.on("save restore",function(j){if(j.buffer){i&&clearTimeout(i);i=setTimeout(function(){e(f,h.getData().length)},500)}else{e(f,h.getData().length)}})})}})();
